// 代码生成时间: 2025-09-15 00:42:07
<File content omitted due to size. Contains the following files:

1. application.properties
2. SchedulingController.java
3. SchedulingService.java
4. SchedulingTask.java
5. GlobalExceptionHandler.java
6. Application.java>

application.properties
spring.main.banner-mode=off
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

SchedulingController.java
package com.example.demo;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.bind.annotation.RequestMapping;

@RestController
@RequestMapping("/api")
public class SchedulingController {
    @Autowired
    private SchedulingService schedulingService;

    @GetMapping("/startTask")
    public ResponseEntity<String> startTask() {
        schedulingService.startTask();
        return ResponseEntity.ok("Task has been started");
    }
}

SchedulingService.java
package com.example.demo;
import org.springframework.scheduling.annotation.EnableScheduling;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Service;

@EnableScheduling
@Service
public class SchedulingService {
    public void startTask() {
        scheduleTask();
    }

    @Scheduled(fixedRate = 5000) // 5 seconds
    public void scheduleTask() {
        System.out.println("Task is running");
    }
}

SchedulingTask.java
package com.example.demo;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Component;

@Component
public class SchedulingTask {
    @Scheduled(cron = "0/15 * * * * ?") // Every 15 seconds
    public void executeTask() {
        System.out.println("Scheduled task is running");
    }
}

GlobalExceptionHandler.java
package com.example.demo;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ExceptionHandler;

@ControllerAdvice
public class GlobalExceptionHandler {
    @ExceptionHandler(Exception.class)
    public ResponseEntity<String> handleException(Exception e) {
        return new ResponseEntity<>("An error occurred: " + e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);
    }
}

Application.java
package com.example.demo;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}